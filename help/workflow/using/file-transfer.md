---
title: 文件传输
description: 进一步了解文件传输活动。
page-status-flag: never-activated
uuid: 6431d908-a110-4a9a-8848-9abf78ef8157
contentOwner: sauviat
products: SG_CAMPAIGN/CLASSIC
audience: workflow
content-type: reference
topic-tags: event-activities
discoiquuid: d8b49f68-c783-43fc-9907-e8480ecd28c2
translation-type: tm+mt
source-git-commit: 70b143445b2e77128b9404e35d96b39694d55335
workflow-type: tm+mt
source-wordcount: '539'
ht-degree: 1%

---


# 文件传输{#file-transfer}

通过 **文件传输活动** ，您可以接收或发送文件，测试文件是否存在，或在服务器上列表文件。 使用的协议为Amazon简单存储服务(S3)、FTP或SFTP。
通过S3或SFTP连接，您还可以使用Adobe实时Adobe Campaign平台将细分数据导入客户。 For more on this, refer to this [documentation](https://docs.adobe.com/content/help/en/experience-platform/rtcdp/destinations/destinations-cat/adobe-destinations/adobe-campaign-destination.html).

>[!NOTE]
>
>有关SFTP服务器使用的最佳实践和疑难解答， [请参阅本页](../../platform/using/sftp-server-usage.md)。

## 属性 {#properties}

使用字段的下拉列表 **[!UICONTROL Action]** 选择活动的操作。

![](assets/file_transfert_action.png)

配置取决于所选操作。

1. **接收文件**

   要接收存储在远程服务器上的文件，请 **[!UICONTROL File download]** 在字段中 **[!UICONTROL Action]** 选择。 您必须在相关字段中指定其URL。

   ![](assets/file_transfert_edit.png)

   选 **[!UICONTROL Use an external account]** 中以从树的节点中配置的S3、FTP或SFTP帐 **[!UICONTROL Administration > Platform > External accounts]** 户中选择帐户。 然后指定服务器上包含要下载的文件的目录。

   ![](assets/file_transfert_edit_external.png)

1. **文件传输**

   要将文件发送到服务器，请在字 **[!UICONTROL File upload]** 段中选 **[!UICONTROL Action]** 择。 必须在编辑器的部分指 **[!UICONTROL Remote server]** 定目标服务器。 参数与入站文件的参数相同。 请参阅上文。

   源文件可以来自以前的活动。 在这种情况下，必 **[!UICONTROL Use the file generated by the previous activity]** 须选择该选项。

   ![](assets/file_transfert_edit_send.png)

   这也可能涉及一个或多个其他文件。 要选择它们，请取消选中该选项，然后单击 **[!UICONTROL Insert]**。 指定要发送的文件的访问路径。 要添加其他文件，请再 **[!UICONTROL Insert]** 次单击。 现在，每个文件都有各自的选项卡。

   ![](assets/file_transfert_source.png)

   使用箭头更改选项卡的顺序。 这与文件发送到服务器的顺序有关。

   通过 **[!UICONTROL Keep history of files sent]** 此选项可跟踪发送的文件。 可从目录访问此历史记录。

1. **测试以查看文件是否存在**

   要测试文件是否存在，请在字段 **[!UICONTROL Test to see if file exists]** 中选择选 **[!UICONTROL Action]** 项。 远程服务器的配置与文件下载的配置相同。 For more information, refer to this [section](#properties).

   ![](assets/file_transfert_edit_test.png)

1. **文件列表**

   要列表文件，请从字 **[!UICONTROL File listing]** 段中选择 **[!UICONTROL Action]** 选项。 远程服务器的配置与接收文件的配置相同。 For more information, refer to this [section](#properties).

   选 **[!UICONTROL List all files]** 择操作时可用的选 **[!UICONTROL File listing]** 项允许您将服务器上存在的所有文件存储在事件变量 **vars.filenames中** ，其中文件名以字符 `\n` 分隔。

所有文件传输选项有两种可能的选项：

* 选 **[!UICONTROL Process missing file]** 项会添加一个过渡，如果在指定的目录中找不到文件，则激活该选项。
* 该选项 **[!UICONTROL Process errors]** 在处理错误中 [有详细说明](../../workflow/using/monitoring-workflow-execution.md#processing-errors)。

The **[!UICONTROL Advanced parameters...]** link lets you access the following options:

![](assets/file_transfert_advanced.png)

* **[!UICONTROL Delete the source files after transfer]**

   擦除远程服务器上的文件。

* **[!UICONTROL Use SSL]**

   允许您在文件传输过程中通过SSL协议使用安全连接。

* **[!UICONTROL Display the session logs]**

   允许您恢复S3、FTP或SFTP传输的日志，并将其包含在工作流日志中。

* **[!UICONTROL Disable passive mode]**

   允许您指定用于数据传输的连接端口。

该 **[!UICONTROL File historization settings...]** 链接允许访问Web下载中详 [细的选项](../../workflow/using/web-download.md) (**[!UICONTROL File historization]** 步骤)。

## 输入参数 {#input-parameters}

* 文件名

   已发送文件的完整名称。

## 输出参数 {#output-parameters}

* 文件名

   如果选中了该选项，则接收 **[!UICONTROL Use the file generated by the previous activity]** 文件的完整名称。
