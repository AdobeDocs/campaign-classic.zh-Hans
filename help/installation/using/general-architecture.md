---
solution: Campaign Classic
product: campaign
title: 一般架构
description: 了解如何安装和配置 Campaign Classic。
audience: installation
content-type: reference
topic-tags: architecture-and-hosting-models
translation-type: tm+mt
source-git-commit: c625b4109e2cb47446331cd009ff9827c8267c93
workflow-type: tm+mt
source-wordcount: '1336'
ht-degree: 0%

---


# 一般架构{#general-architecture}

典型的Adobe Campaign解决方案部署包括以下组件：

* **个性化的客户环境**

   直观的图形界面，用户可在其中交流和跟踪营销优惠、创建活动、审阅和管理所有营销活动、项目和计划(包括电子邮件、工作流和登陆页)、创建和管理客户用户档案以及定义客户受众类型。

* **开发环境**

   服务器端软件，根据用户界面中定义的规则和活动，通过选定的通信渠道（包括电子邮件、短信、推送通知、直邮、Web或社交）执行营销工作流。

* **数据库容器**

   基于关系数据库技术，Adobe Campaign数据库存储所有客户信息、活动组件、优惠和工作流，以及活动结果，产生客户数据库容器。

Adobe Campaign基于面向服务的体系结构(SOA)，包括多个功能模块。 这些模块可以部署在一台或多台计算机上，在单个或多个实例中，具体取决于可扩展性、可用性和服务隔离方面的限制。 因此，部署配置的范围非常广泛，并跨单个中央计算机到包括多个站点上的多个专用服务器的配置。

>[!NOTE]
>
>作为软件供应商，我们指定了兼容的硬件和软件基础架构。 此处提供的硬件建议仅供参考，并基于我们的经验。 Adobe不对根据这些决定作出的任何决定负责。 它还取决于您的业务规则和做法，以及项目的关键程度和所需的性能级别。

![](assets/s_ncs_install_architecture.png)

>[!CAUTION]
>
>如果没有明确说明，Adobe Campaign平台的所有组件的安装、更新和维护由托管这些组件的计算机管理员负责。 这包括实现Adobe Campaign应用程序的先决条件，以及在组件之间遵守活动[兼容性矩阵](../../rn/using/compatibility-matrix.md)。

## 表示层{#presentation-layer}

根据用户的需要，可以通过不同的方式访问应用程序：富客户端、瘦客户端或API集成。

* **富客户端**:应用程序的主用户界面是一个富客户端，换句话说，是一个仅与标准Internet协议（SOAP、HTTP等）通信的本机应用程序(Windows)。此控制台为工作效率提供了极好的用户友好性，使用的带宽非常少（通过使用本地缓存），并且设计为易于部署。 此控制台可以从Internet浏览器部署，可以自动更新，并且不需要任何特定的网络配置，因为它只生成HTTP(S)通信。
* **瘦客户端**:应用程序的某些部分可以通过使用HTML用户界面的简单Web浏览器访问，包括报告模块、投放批准阶段、分布式营销模块的功能（中央/本地）、实例监视等。通过此模式，可以在内部网或外部网中包含Adobe Campaign功能。
* **通过API进行集成**:在某些情况下，可以使用通过SOAP协议公开的Web服务API从外部应用程序调用系统。

## 逻辑应用程序层{#logical-application-layer}

Adobe Campaign是一个具有不同应用程序的单一平台，这些应用程序结合在一起可创建开放、可扩展的架构。 Adobe Campaign平台编写在灵活的应用程序层上，并可轻松配置以满足公司的业务需求。 这从功能和技术角度适应了企业不断增长的需求。 分布式体系结构确保线性系统可伸缩性，从数千条消息扩展到数百万条消息。

Adobe Campaign依赖一组可协同工作的服务器端进程。

主要过程有：

**应用程序服务器** (nlserver web)

此过程通过Web服务API(SOAP - HTTP + XML)显示各种Adobe Campaign功能。 此外，它还可以动态生成用于基于HTML的访问(报告、Web 窗体等)的网页。 为此，本过程包括一个Apache Tomcat JSP服务器。 这是控制台所连接的进程。

**工作流引擎** (nlserver wfserver)

它执行应用程序中定义的工作流进程。

它还处理定期执行的技术工作流，包括：

* 跟踪：恢复和整合跟踪日志。 它允许您从重定向服务器检索日志并创建聚合模块使用的报告指示器。
* 清理：数据库清理。 用于清除旧记录并避免数据库呈指数增长。
* 帐单：自动发送平台的活动报告（数据库大小、营销操作数等）。

**投放 Server** (nlserver mta)

Adobe Campaign具有本机电子邮件广播功能。 此进程用作SMTP邮件传输代理(MTA)。 它对消息执行“一对一”个性化并处理其物理投放。 它使用投放作业运行并处理自动重试。 此外，启用跟踪后，它会自动替换URL，以便它们指向重定向服务器。

此过程可以处理定制和自动发送给第三方路由器的短信、传真和直邮。

**重定向服务器** (nlserver webmdl)

对于电子邮件，Adobe Campaign会自动处理打开和点击跟踪（更有可能的是，在网站级别进行事务跟踪）。 为此，重新编写包含在电子邮件中的URL，以指向此模块，该模块在将Internet用户的通过重新定向到所需URL之前注册这些用户。

为保证最高可用性，此过程完全独立于数据库：其他服务器进程仅使用SOAP调用（HTTP、HTTP和XML）与它通信。 技术上，此功能是在HTTP服务器的扩展模块（IIS中的ISAPI扩展或DSO Apache模块等）中实现的 并且仅在Windows中可用。

还有其他技术流程：

**管理跳出电子邮件** (nlserver inMail)

此过程使您能够从配置为接收退回邮件的邮箱中自动获取电子邮件，这些邮件在发生投放故障时会返回。 然后，这些消息将进行基于规则的处理以确定非投放(未知收件人、超出配额等)的原因 和更新投放库中的数据状态。

所有这些操作都是完全自动和预配置的。

**SMS投放状态** (nlserver sms)

此过程会轮询SMS路由器以收集进度状态并更新数据库。

**写入日志消息** (nlserver syslogd)

此技术过程捕获其他进程生成的日志消息和跟踪，并将它们写入硬盘。 这使得在出现问题时，可以提供充足的信息用于诊断。

**写入跟踪日志** (nlserver trackinglogd)

此过程将重定向过程生成的跟踪日志保存到磁盘。

**写入入站事件** (nlserver interactiond)

此过程确保在Interaction框架内将录制内容记录到入站事件的磁盘。

**监控模块** (nlserver watchdog)

此技术过程是产生其他过程的主要过程。 它还监视这些设备并在发生事故时自动重新启动它们，从而保持最长的系统正常运行时间。

**统计服务器** (nlserver stat)

此过程会维护有关连接数、针对每个邮件服务器发送的消息以及其限制（最大并发连接数、每小时和/或连接消息数）的统计信息。 如果多个实例或计算机共享相同的公共IP地址，则还可以联合使用。

>[!NOTE]
>
>[此文档](../../production/using/operating-principle.md)中提供完整的Adobe Campaign模块列表。

## 持久层{#persistence-layer}

数据库用作持久层，包含由Adobe Campaign管理的几乎所有信息。 这包括功能数据(用户档案、订阅、内容等)、技术数据(投放作业和日志、跟踪日志等) 和工作数据（购买、潜在客户）。

Adobe Campaign库的可靠性至关重要，因为大多数数据组件需要访问数据库以执行其任务（重定向模块的显着例外）。

该平台预定义了以营销为中心的数据集市，或者可以使用任何主要的关系数据库管理系统(RDBMS)轻松地位于现有数据集市和模式之上。 Adobe Campaign平台通过从Adobe Campaign到数据库的SQL调用访问数据集中的所有数据。 Adobe Campaign还提供了“提取转换和加载(ETL)”工具的完整补充，以执行数据导入和将数据导出到系统和从系统中导出。
