---
product: campaign
title: Campaign Classic一般架构
description: 了解如何安装和配置Campaign Classic
badge-v7-only: label="v7" type="Informative" tooltip="Applies to Campaign Classic v7 only"
audience: installation
content-type: reference
topic-tags: architecture-and-hosting-models
exl-id: 04e6dc17-427b-4745-84cc-bf45c03dbf81
source-git-commit: 8debcd3d8fb883b3316cf75187a86bebf15a1d31
workflow-type: tm+mt
source-wordcount: '1342'
ht-degree: 0%

---

# 一般架构{#general-architecture}



典型的Adobe Campaign解决方案部署包含以下组件：

* **个性化客户端环境**

   直观的图形界面，用户可在其中交流和跟踪营销选件、创建营销策划、审阅和管理所有营销活动、项目和计划（包括电子邮件、工作流和登陆页面）、创建和管理客户配置文件以及定义客户受众类型。

* **开发环境**

   服务器端软件，根据用户界面中定义的规则和工作流，通过选定的通信渠道（包括电子邮件、短信、推送通知、直邮、Web或社交）执行营销活动。

* **数据库容器**

   基于关系数据库技术，Adobe Campaign数据库将所有客户信息、促销活动组件、选件和工作流以及促销活动结果存储在客户数据库容器中。

Adobe Campaign基于面向服务的体系结构(SOA)，包括若干功能模块。 这些模块可以部署在一台或多台计算机上，在单个或多个实例中，具体取决于可扩展性、可用性和服务隔离方面的限制。 因此，部署配置的范围非常广泛，并且跨单个中央计算机到配置，包括跨多个站点的多个专用服务器。

>[!NOTE]
>
>作为软件供应商，我们指定了兼容的硬件和软件基础架构。 此处提供的硬件建议仅供参考，并且基于我们的经验。 Adobe对根据这些决定作出的任何决定概不负责。 它还取决于您的业务规则和做法，以及项目的关键程度和所需性能级别。

![](assets/s_ncs_install_architecture.png)

>[!CAUTION]
>
>如果没有明确说明，则托管这些组件的计算机管理员负责在Adobe Campaign平台的所有组件上安装、更新和维护。 这包括实施Adobe Campaign应用程序的先决条件并遵守Campaign [兼容性矩阵](../../rn/using/compatibility-matrix.md) 组件之间。

## 表示图层 {#presentation-layer}

根据用户的需求，可以通过不同方式访问应用程序：富客户端、瘦客户端或API集成。

* **富客户端**:应用程序的主用户界面是一个富客户端，换句话说，是一个仅与标准Internet协议（SOAP、HTTP等）通信的与Adobe Campaign应用程序服务器通信的本机应用程序(Windows)。 此控制台为工作效率提供了极好的用户友好性，使用极少的带宽（通过使用本地缓存），并且设计为易于部署。 此控制台可以从Internet浏览器部署，可以自动更新，无需任何特定的网络配置，因为它只生成HTTP(S)流量。
* **瘦客户端**:使用HTML用户界面，可以通过简单的Web浏览器访问应用程序的某些部分，包括报告模块、投放批准阶段、分布式营销模块（中央/本地）的功能、实例监控等。 这种模式可将Adobe Campaign功能纳入内联网或外联网。
* **通过API集成**:在某些情况下，可以使用通过SOAP协议公开的Web服务API从外部应用程序调用系统。

## 逻辑应用层 {#logical-application-layer}

Adobe Campaign是一个具有不同应用程序的单一平台，这些应用程序结合在一起可创建一个开放且可扩展的架构。 Adobe Campaign平台在灵活的应用程序层上编写，并可轻松配置以满足公司的业务需求。 这从功能和技术角度满足了企业日益增长的需求。 分布式架构确保了线性系统可扩展性，从数千条报文扩展到数百万条报文。

Adobe Campaign依赖于一组可协同工作的服务器端进程。

主要流程包括：

**应用程序服务器** (nlserver web)

此过程通过Web服务API(SOAP - HTTP + XML)公开了Adobe Campaign的完整功能。 此外，它还可以动态生成用于基于HTML的访问的网页（报表、Web窗体等）。 为了实现此目的，此过程包括Apache Tomcat JSP服务器。 控制台将连接到此过程。

**工作流引擎** (nlserver wfserver)

它执行应用程序中定义的工作流进程。

它还可处理定期执行的技术工作流，包括：

* 跟踪：恢复和整合跟踪日志。 它允许您从重定向服务器中检索日志，并创建报告模块使用的聚合指示器。
* 清理：数据库清理。 用于清除旧记录并避免数据库呈指数级增长。
* 账单：自动发送平台的活动报表（数据库大小、营销操作数、活动用户档案数等）。

**投放服务器** (nlserver mta)

Adobe Campaign具有本机电子邮件广播功能。 此进程可用作SMTP邮件传输代理(MTA)。 它可对消息执行“一对一”个性化并处理其实际投放。 它可使用投放作业运行并处理自动重试。 此外，启用跟踪后，它会自动替换URL，以便它们指向重定向服务器。

此过程可处理短信、传真和直邮的定制和自动发送给第三方路由器。

**重定向服务器** (nlserver webmdl)

对于电子邮件，Adobe Campaign会自动处理打开和点击跟踪（更有可能的是在网站级别进行事务跟踪）。 要实现此目的，将重写包含在电子邮件中的URL，以指向此模块，该模块在将Internet用户重定向到所需URL之前会注册他们的传递。

为保证最高可用性，此过程完全独立于数据库：其他服务器进程仅使用SOAP调用(HTTP、HTTP(S)和XML)与其通信。 从技术上讲，此功能是在HTTP服务器的扩展模块（IIS中的ISAPI扩展，或DSO Apache模块等）中实施的 和仅在Windows中可用。

还提供了其他更技术性的流程：

**管理退回电子邮件** (nlserver inMail)

此过程允许您从配置为接收在投放失败时返回的退回邮件的邮箱自动接收电子邮件。 然后，这些消息将进行基于规则的处理，以确定未投放的原因（未知收件人、超出配额等） 和，以更新数据库中的投放状态。

所有这些操作都是完全自动和预配置的。

**短信投放状态** (nlserver sms)

此过程会轮询短信路由器以收集进度状态并更新数据库。

**编写日志消息** (nlserver syslogd)

此技术过程会捕获其他进程生成的日志消息和跟踪，并将它们写入硬盘。 这为出现问题时的诊断提供了充足的信息。

**编写跟踪日志** (nlserver trackinglogd)

此过程会将重定向过程生成的跟踪日志保存到磁盘。

**编写入站事件** (nlserver interactiond)

此过程可确保在交互框架内将入站事件记录到磁盘。

**监督模块** (nlserver watkdog)

此技术过程是产生其他过程的主要过程。 它还会监控它们，并在发生事件时自动重新启动它们，从而保持最长的系统正常运行时间。

**统计服务器** (nlserver stat)

此过程维护有关连接数、针对每个邮件服务器发送的邮件数量及其限制（同时连接数、每小时消息数或连接数的最大值）的统计信息。 此外，如果多个实例或计算机共享相同的公共IP地址，则还可以通过此功能联合它们。

>[!NOTE]
>
>Adobe Campaign模块的完整列表可在 [本文档](../../production/using/operating-principle.md).

## 持久层 {#persistence-layer}

数据库用作持久层，包含几乎所有由Adobe Campaign管理的信息。 这包括功能数据（用户档案、订阅、内容等）、技术数据（投放作业和日志、跟踪日志等） 和工作数据（购买、商机）。

数据库的可靠性至关重要，因为大多数Adobe Campaign组件都需要访问数据库以执行其任务（重定向模块除外）。

该平台带有以营销为中心的数据集市，或者可以使用任何主要关系数据库管理系统(RDBMS)轻松地置于现有数据集市和模式之上。 Adobe Campaign平台通过从Adobe Campaign到数据库的SQL调用，访问数据集市中的所有数据。 Adobe Campaign还提供了完整的“提取转换和加载(ETL)”工具补充，用于执行数据导入和导出数据到系统和从系统导出的数据。
