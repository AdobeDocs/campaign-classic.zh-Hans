---
product: campaign
title: 内部版本升级常见问题解答
description: 与Campaign内部版本升级相关的常见问题
feature: Upgrade, Troubleshooting
badge-v7-only: label="v7" type="Informative" tooltip="仅适用于Campaign Classicv7"
audience: platform
content-type: reference
topic-tags: starting-with-adobe-campaign
exl-id: 85e2135d-a1a3-44f0-a4f9-de38db5c8726
source-git-commit: 3a9b21d626b60754789c3f594ba798309f62a553
workflow-type: tm+mt
source-wordcount: '2002'
ht-degree: 3%

---

# 内部版本升级常见问题解答 {#build-upgrade-faq}



Adobe Campaign 会定期更新。如果您熟悉我们发布的 [发行说明](../../rn/using/rn-overview.md)，您可能已经意识到每年平均会发布三分之二包含新增功能、改进和修复的次要版本。 此外，我们还定期发布仅包含累积修复的内部版本。这种定期更新的目的是为了让您掌握最新、最充分的信息，保持环境的完全安全，并明显改善您对我们产品的体验。

我们的客户运行最新版本的Adobe Campaign这一点至关重要。 此外，它还允许Adobe在您遇到问题时更加高效地提供帮助 — 识别、再现和修复旧版本中的问题通常需要更多时间，更不用说您可能遇到的某些问题已在最近的版本中得到了修复。

作为托管用户，您无需采取任何操作，即可通过最新稳定版本自动从Campaign年度升级中受益。 内部部署和混合型客户也可以从此版本受益。 如果您从旧内部版本进行迁移，我们建议您先升级到此版本。[了解详情](../../rn/using/rn-overview.md)。

## 什么是内部版本升级？

当将Adobe Campaign Classic软件更新到最新的安全内部版本号，但保持相同的主/次内部版本级别时，即进行内部版本升级。 例如：将v7内部版本9026Campaign Classic到Campaign v7内部版本9032。

了解详情 [在此部分中](../../rn/using/rn-overview.md).

## Adobe Campaign Classic的最新版本是什么？

有关最新Campaign Classic版本（包括新增功能和文档）的详细信息，请参阅最新版本 [发行说明](../../rn/using/latest-release.md).

## 如何知道我在运行哪个版本？

检查您的版本，从 **[!UICONTROL Help > About...]** Adobe Campaign客户端控制台中的菜单。 此 **[!UICONTROL About]**  框包含有关为控制台和服务器运行的版本和内部版本的详细信息。

了解详情 [在此部分中](../../platform/using/launching-adobe-campaign.md#getting-your-campaign-version).

## 构建状态表示什么？

从Campaign Classic19.2开始，状态与每个内部版本关联。

了解详情 [在此部分中](../../rn/using/rn-overview.md).

## 内部版本升级与版本升级是否相同？

没有。内部版本升级是给定主版本中的增量更新，而版本升级是从一个主版本到另一个主版本的更改。 构建升级简单明了，因为它们通常不涉及任何重大的体系结构、技术或数据模型更改。

另一方面，版本升级通常伴随着显着的技术变化，并且根据给定客户的配置深度，可能需要显着配置更改和/或部分重新实施。

例如，使用上一节屏幕快照中的服务器信息：

* 内部版本升级涉及从内部版本9342移动到任何大于9342的内部版本。 例如，v7.1内部版本9342到v7.1内部版本9342

* 版本升级涉及从版本6移动到任何更新的版本。  例如：v6.1.1内部版本8666到v7.1内部版本9342。

## 我是否应在进行这些更新之前备份数据？

Adobe将在进行任何更改之前备份系统。 但是，如果您的非生产系统（开发服务器或暂存服务器）中存在关键的自定义工作，则强烈建议您在进行任何升级之前将该工作导出为资源包。

<!--
![](assets/do-not-localize/how-to-video.png) For more information, [watch this how to video](https://helpx.adobe.com/campaign/classic/how-to/generate-packages-in-acv6.html).-->

## 升级将于何时进行？

客户将获得一个日期范围以供选择。 生产系统更改不在节假日执行。

版本升级可以在星期一到星期四进行，星期五仅用于非生产实例。

## 内部版本升级需要多长时间？

执行内部版本升级所需的时间取决于以下几个因素：

* 要备份或还原的数据库的大小（较大的数据库需要更多时间来升级）
* 环境的大小（我们的许多客户都有多个不同的服务器，每个服务器处理特定的功能，而较大的环境需要更多时间来升级）
* 系统的复杂性（有些系统有更多的依赖性服务和连接来验证，因此必须验证这些系统的稳定性和性能）

内部版本升级分为两步：

1. 准备系统以进行升级 — 考虑到您环境的特性，此阶段实际上会导致在非生产环境中进行完全合格的升级。 一旦从技术和功能的角度为升级后的环境标注，第2阶段就可能发生。 根据上述因素，第一阶段可能需要几天到几周的时间。

1. 升级本身 — 升级生产环境。 此阶段通常在几个小时内执行。 对于非常复杂的环境，预计停机时间会更长。 如果出现问题，将定义回滚策略并可执行它。

有关详细信息， [请参阅本文档](https://helpx.adobe.com/cn/campaign/kb/acc-build-upgrade.html).

## 内部版本升级需要哪些资源？

内部版本升级过程需要以下资源：

* Adobe架构师 — 对于托管或云消息传递/混合架构，架构师必须与客户关怀团队协调。
* 项目经理 — 托管：托管团队将与客户关怀团队和客户合作，协调所有实例的升级时间线。
* Adobe Campaign管理员 — 托管：托管团队执行升级。
* Adobe Campaign operator\marketing user — 该运算符针对开发、测试和生产实例运行测试。

## 如何准备内部版本升级？

在您的开发和暂存系统中，导出任何重要且必须保留的工作。

<!--For more information please [watch this how to video](https://helpx.adobe.com/campaign/classic/how-to/generate-packages-in-acv6.html).-->

通过在实施结束时查看提供给团队的文档，刷新您在操作手册中（或由您的咨询团队/合作伙伴）开发的关键路径工作流和投放的知识。

确定适合维护窗口的低流量或低流量时间，因为它们将产生最低的业务影响。

查看我们的 [构建以下升级核对清单](#check-list) 和您的测试计划，并确保能够执行这些测试的资源在24到48小时内可用。 完成升级。

有关详细信息， [请参阅此章节](../../production/using/build-upgrade.md).

## 可以在夜间或下班时间执行版本升级吗？

可以在非工作时间执行升级。 始终建议在没有业务用户连接到实例的情况下，在工作时间外升级环境。

## 与版本升级相关的成本是多少？

为托管客户安装内部版本升级不收取任何费用。 如果系统中存在自定义开发，客户将需要确定在升级后测试这些开发所需的资源，并更正这些自定义开发发现的任何问题。

## 在升级过程中是否可以访问实例？

没有。服务器在升级期间关闭，以确保在产品升级期间保持数据完整性。 完成后，它会重新启动，并且所有服务都会恢复。

## 在升级过程中，是否会继续从消息中心发送电子邮件？

当消息中心(RT)进行升级时，不会从实例发送电子邮件。 请注意，在Campaign系统关闭时停止的任何进程，都会在系统重新启动时自动恢复。 其中包括以前发送的投放的活动或计划投放、跟踪和量度计算。

## 工作流是否会继续运行并发送投放？

没有。在内部版本升级期间，工作流和邮件服务都会停止。 这意味着不会运行工作流，也不会发送投放。 一旦系统重新启动，它们将恢复。 但是，Adobe强烈建议在升级后检查所有关键路径工作流，以确保它们正常运行并正常运行。

## 升级期间我的跟踪链接是否仍然有效？

在升级期间，已发送电子邮件上的跟踪链接将无法正常运行，因为所有服务器都已停止。 升级完成且服务器重新启动后，它们将再次运行。

## 在内部版本升级过程中是否需要我可用？

是. 客户应在Adobe的生产实例升级期间或升级之后立即向其提供可用的联系点。  Adobe将通过电子邮件联系此人，除非另有安排。 这将确保顺利过渡并立即验证关键任务。 构建升级完成后，Adobe将联系客户进行确认。

## 是否需要更新客户端控制台？

是. 客户端控制台必须与服务器实例位于同一内部版本上。 升级完成后，您的客户端控制台应提示您升级到最新版本，以确保其与服务器版本保持一致。

## 什么是回滚计划？ 是否保留我的数据备份？

回滚计划是使用最新的可用备份恢复系统。 对于数据中心客户，备份会存储7天；对于使用Amazon Web服务(AWS)的客户，备份会存储14天。

## 回滚需要多长时间？

这取决于数据库备份大小。 平均需要4个小时才能完成。

## 升级后，会对我的系统执行哪些类型的测试？

请参阅 [构建以下升级核对清单](#check-list).

## 升级后必须执行哪种类型的测试？

开发和暂存环境要么按顺序升级，要么一起升级，但在升级生产实例之前需要注销。 这样，每位客户在签发对生产环境的任何更改之前，都可以执行彻底的测试。

查看列表 [构建以下升级核对清单](#check-list). 客户应该运行类似的测试，以及他们可能需要的其他环境测试。

## 必须多久执行一次内部版本升级？

为确保系统的最佳性能、可用性和安全性，Adobe将与客户合作，确保系统每年至少升级一次。

## 通过内部版本升级是否会关闭？

是. 服务器在升级期间关闭，以确保在产品升级期间保持数据完整性。 完成后，它会重新启动，并且所有服务都会恢复。

## 要打开版本升级工单，我应该联系谁？

如果您在版本升级后遇到问题，请联系 [Adobe客户关怀](https://helpx.adobe.com/cn/enterprise/admin-guide.html/enterprise/using/support-for-experience-cloud.ug.html). 客户关怀团队会安排构建日期并打开与构建升级相关的票证。

了解详情，请参阅 [Campaign Classic的帮助和支持选项](../../support.md)

## 构建升级核对清单 {#check-list}

### Cloud Messaging服务器升级后核对清单

1. 发送测试投放
   1. 验证投放日志和相关工作流
   1. 验证跟踪日志是否已更新
   1. 验证镜像页面和跟踪链接
1. 确认所有技术工作流都处于“已启动”状态
1. 验证所有进程是否也处于活动状态

### 营销服务器升级后核对清单

* 您能登录服务器吗？ 检查Campaign客户端控制台是否正常工作，且没有任何错误/警告弹出窗口。
* 确保在升级后使用与内部版本相同的控制台版本。
* 您是否有任何将数据插入Campaign数据库的Web应用程序？ 如果是这样的话，请运行这些记录并验证它们能否通过API插入新记录。
* 能否成功发送测试电子邮件？ 使用已知模板创建新投放，将其发送给一个测试收件人，验证个性化、取消子链接、镜像页面所有工作。
* 您的所有关键路径工作流都在运行吗？ 检查工作流，打开工作流日志，验证没有错误。
* 您的所有文件夹是否都存在、可见且可访问？ 浏览不同的文件夹并选中。
将显示并显示所有内容。
* 您的投放是否使用正确的时区进行？

   * 使用时间戳和时区验证创建日期和修改日期
   * 验证调度程序的执行是否可以在指定的时间在工作流中工作
   * 获取处于“已暂停”和“失败”状态的工作流列表。 启动并监视它们
   * 针对一种方案运行AB Testing
   * 测试推送通知及其对深层链接的跟踪功能
   * 测试发送短信
   * 如果您连接了任何外部FDA，请测试数据是否以两种方式发送
   * 如果您使用Adobe Campaign-Adobe Experience Manager、Adobe Campaign-Adobe Analytics等集成，请测试它们是否仍像以前一样工作

**另请参阅**

* [执行内部版本升级](../../production/using/build-upgrade.md)
* [Campaign Classic发行说明](../../rn/using/rn-overview.md)
* [Campaign Classic的帮助和支持选项](../../support.md)
* [年度升级计划](../../rn/using/rn-overview.md#yearly-upgrade)
